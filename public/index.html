<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OnlyFans Agency Analytics & AI System</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: all 0.2s ease;
        }
        .card-hover:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        .sidebar {
            transition: transform 0.3s ease;
        }
        .sidebar-hidden {
            transform: translateX(-100%);
        }
        .metric-card {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        }
        .metric-card-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        .metric-card-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        .metric-card-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }
        .glassmorphism {
            backdrop-filter: blur(16px) saturate(180%);
            background-color: rgba(17, 25, 40, 0.75);
            border: 1px solid rgba(255, 255, 255, 0.125);
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- Login Screen -->
    <div id="loginScreen" class="min-h-screen flex items-center justify-center gradient-bg">
        <div class="w-full max-w-md mx-4">
            <div class="glassmorphism rounded-2xl p-8 shadow-2xl">
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-white/20 flex items-center justify-center">
                        <i class="fas fa-chart-line text-2xl text-white"></i>
                    </div>
                    <h1 class="text-2xl font-bold text-white mb-2">Agency Analytics</h1>
                    <p class="text-white/70">OnlyFans Performance Management</p>
                </div>
                
                <form id="loginForm" class="space-y-6">
                    <div>
                        <label class="block text-white/90 text-sm font-medium mb-2">Username</label>
                        <input type="text" id="loginUsername" required
                               class="w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/30 focus:border-transparent">
                    </div>
                    
                    <div>
                        <label class="block text-white/90 text-sm font-medium mb-2">Password</label>
                        <input type="password" id="loginPassword" required
                               class="w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/30 focus:border-transparent">
                    </div>
                    
                    <button type="submit" class="w-full bg-white/20 hover:bg-white/30 text-white font-medium py-3 px-4 rounded-xl transition duration-200 backdrop-blur">
                        <i class="fas fa-sign-in-alt mr-2"></i>Sign In
                    </button>
                </form>
                
                <div id="loginError" class="mt-4 text-red-300 text-sm hidden"></div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="hidden">
        <!-- Header -->
        <header class="bg-gray-800 border-b border-gray-700 sticky top-0 z-40">
            <div class="flex items-center justify-between px-6 py-4">
                <div class="flex items-center space-x-4">
                    <button id="sidebarToggle" class="lg:hidden text-gray-400 hover:text-white">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 rounded-lg bg-indigo-500 flex items-center justify-center">
                            <i class="fas fa-chart-line text-white text-sm"></i>
                        </div>
                        <h1 class="text-xl font-semibold">OnlyFans Analytics</h1>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <span id="userWelcome" class="text-sm text-gray-300"></span>
                    <button id="logoutBtn" class="text-gray-400 hover:text-white transition">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </header>

        <div class="flex h-screen pt-0">
            <!-- Sidebar -->
            <aside id="sidebar" class="sidebar w-64 bg-gray-800 border-r border-gray-700 fixed inset-y-0 left-0 z-30 lg:relative lg:translate-x-0 pt-20 lg:pt-0">
                <nav class="p-4 space-y-2">
                    <!-- Manager Navigation -->
                    <div id="managerNav" class="hidden">
                        <div class="space-y-1">
                            <a href="#" onclick="showSection('dashboard')" class="nav-link flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-300 hover:text-white hover:bg-gray-700 transition">
                                <i class="fas fa-tachometer-alt w-5 h-5 mr-3"></i>Dashboard
                            </a>
                            <a href="#" onclick="showSection('analytics')" class="nav-link flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-300 hover:text-white hover:bg-gray-700 transition">
                                <i class="fas fa-chart-bar w-5 h-5 mr-3"></i>Analytics
                            </a>
                            <a href="#" onclick="showSection('data-upload')" class="nav-link flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-300 hover:text-white hover:bg-gray-700 transition">
                                <i class="fas fa-upload w-5 h-5 mr-3"></i>Data Upload
                            </a>
                            <a href="#" onclick="showSection('guidelines')" class="nav-link flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-300 hover:text-white hover:bg-gray-700 transition">
                                <i class="fas fa-list-check w-5 h-5 mr-3"></i>Guidelines
                            </a>
                            <a href="#" onclick="showSection('ai-analysis')" class="nav-link flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-300 hover:text-white hover:bg-gray-700 transition">
                                <i class="fas fa-brain w-5 h-5 mr-3"></i>AI Analysis
                            </a>
                            <a href="#" onclick="showSection('team-management')" class="nav-link flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-300 hover:text-white hover:bg-gray-700 transition">
                                <i class="fas fa-users w-5 h-5 mr-3"></i>Team Management
                            </a>
                        </div>
                    </div>

                    <!-- Chatter Navigation -->
                    <div id="chatterNav" class="hidden">
                        <div class="space-y-1">
                            <a href="#" onclick="showSection('chatter-dashboard')" class="nav-link flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-300 hover:text-white hover:bg-gray-700 transition">
                                <i class="fas fa-tachometer-alt w-5 h-5 mr-3"></i>My Dashboard
                            </a>
                            <a href="#" onclick="showSection('daily-report')" class="nav-link flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-300 hover:text-white hover:bg-gray-700 transition">
                                <i class="fas fa-plus w-5 h-5 mr-3"></i>Daily Report
                            </a>
                            <a href="#" onclick="showSection('my-performance')" class="nav-link flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-300 hover:text-white hover:bg-gray-700 transition">
                                <i class="fas fa-chart-line w-5 h-5 mr-3"></i>My Performance
                            </a>
                            <a href="#" onclick="showSection('team-comparison')" class="nav-link flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-300 hover:text-white hover:bg-gray-700 transition">
                                <i class="fas fa-users w-5 h-5 mr-3"></i>Team Comparison
                            </a>
                        </div>
                    </div>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 bg-gray-900 overflow-y-auto lg:ml-0">
                <!-- Dashboard Section -->
                <div id="dashboard" class="section p-6">
                    <div class="mb-8">
                        <h2 class="text-3xl font-bold mb-2">Agency Dashboard</h2>
                        <p class="text-gray-400">Real-time performance overview</p>
                    </div>

                    <!-- Key Metrics Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-6 mb-8">
                        <!-- Total Revenue -->
                        <div class="metric-card text-white rounded-xl p-6 card-hover">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-white/80 text-sm">Total Revenue</p>
                                    <p class="text-2xl font-bold" id="totalRevenue">$0</p>
                                </div>
                                <i class="fas fa-dollar-sign text-2xl text-white/60"></i>
                            </div>
                        </div>

                        <!-- Net Revenue -->
                        <div class="metric-card-success text-white rounded-xl p-6 card-hover">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-white/80 text-sm">Net Revenue</p>
                                    <p class="text-2xl font-bold" id="netRevenue">$0</p>
                                </div>
                                <i class="fas fa-chart-line text-2xl text-white/60"></i>
                            </div>
                        </div>

                        <!-- Total Subs -->
                        <div class="bg-gray-800 text-white rounded-xl p-6 card-hover border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Total Subs</p>
                                    <p class="text-2xl font-bold" id="totalSubs">0</p>
                                </div>
                                <i class="fas fa-users text-2xl text-gray-400"></i>
                            </div>
                        </div>

                        <!-- New Subs -->
                        <div class="bg-gray-800 text-white rounded-xl p-6 card-hover border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">New Subs</p>
                                    <p class="text-2xl font-bold" id="newSubs">0</p>
                                </div>
                                <i class="fas fa-user-plus text-2xl text-gray-400"></i>
                            </div>
                        </div>

                        <!-- Profile Clicks -->
                        <div class="bg-gray-800 text-white rounded-xl p-6 card-hover border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Profile Clicks</p>
                                    <p class="text-2xl font-bold" id="profileClicks">0</p>
                                </div>
                                <i class="fas fa-eye text-2xl text-gray-400"></i>
                            </div>
                        </div>

                        <!-- Recurring Revenue -->
                        <div class="bg-gray-800 text-white rounded-xl p-6 card-hover border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Recurring Rev</p>
                                    <p class="text-2xl font-bold" id="recurringRevenue">$0</p>
                                </div>
                                <i class="fas fa-sync text-2xl text-gray-400"></i>
                            </div>
                        </div>

                        <!-- Messages Sent -->
                        <div class="bg-gray-800 text-white rounded-xl p-6 card-hover border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Messages Sent</p>
                                    <p class="text-2xl font-bold" id="messagesSent">0</p>
                                </div>
                                <i class="fas fa-comment text-2xl text-gray-400"></i>
                            </div>
                        </div>

                        <!-- PPVs Sent -->
                        <div class="bg-gray-800 text-white rounded-xl p-6 card-hover border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">PPVs Sent</p>
                                    <p class="text-2xl font-bold" id="ppvsSent">0</p>
                                </div>
                                <i class="fas fa-paper-plane text-2xl text-gray-400"></i>
                            </div>
                        </div>

                        <!-- PPVs Unlocked -->
                        <div class="bg-gray-800 text-white rounded-xl p-6 card-hover border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">PPVs Unlocked</p>
                                    <p class="text-2xl font-bold" id="ppvsUnlocked">0</p>
                                </div>
                                <i class="fas fa-unlock text-2xl text-gray-400"></i>
                            </div>
                        </div>

                        <!-- Unlock Rate -->
                        <div class="metric-card-warning text-white rounded-xl p-6 card-hover">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-white/80 text-sm">Unlock Rate</p>
                                    <p class="text-2xl font-bold" id="unlockRate">0%</p>
                                </div>
                                <i class="fas fa-percentage text-2xl text-white/60"></i>
                            </div>
                        </div>

                        <!-- Avg PPV Price -->
                        <div class="bg-gray-800 text-white rounded-xl p-6 card-hover border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Avg PPV Price</p>
                                    <p class="text-2xl font-bold" id="avgPPVPrice">$0</p>
                                </div>
                                <i class="fas fa-tags text-2xl text-gray-400"></i>
                            </div>
                        </div>

                        <!-- Response Time -->
                        <div class="bg-gray-800 text-white rounded-xl p-6 card-hover border border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Avg Response</p>
                                    <p class="text-2xl font-bold" id="avgResponseTime">0m</p>
                                </div>
                                <i class="fas fa-clock text-2xl text-gray-400"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Section -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                            <h3 class="text-lg font-semibold mb-4">Revenue Trends</h3>
                            <canvas id="revenueChart" width="400" height="200"></canvas>
                        </div>
                        
                        <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                            <h3 class="text-lg font-semibold mb-4">Performance Metrics</h3>
                            <canvas id="performanceChart" width="400" height="200"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Other sections will be built in next steps -->
                <div id="analytics" class="section hidden p-6">
                    <h2 class="text-2xl font-bold mb-4">Detailed Analytics</h2>
                    <p class="text-gray-400">Building comprehensive analytics view...</p>
                </div>

                <div id="guidelines" class="section hidden p-6">
                    <h2 class="text-2xl font-bold mb-4">Guidelines Management</h2>
                    <p class="text-gray-400">Building guidelines upload system...</p>
                </div>

                <div id="data-upload" class="section hidden p-6">
                    <h2 class="text-2xl font-bold mb-4">Data Upload</h2>
                    <p class="text-gray-400">Building data upload interface...</p>
                </div>

                <div id="ai-analysis" class="section hidden p-6">
                    <h2 class="text-2xl font-bold mb-4">AI Analysis</h2>
                    <p class="text-gray-400">Building AI analysis interface...</p>
                </div>

                <div id="team-management" class="section hidden p-6">
                    <h2 class="text-2xl font-bold mb-4">Team Management</h2>
                    <p class="text-gray-400">Building team management interface...</p>
                </div>

                <!-- Daily Report Section (Chatter) -->
                <div id="daily-report" class="section hidden p-6">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold mb-2">Daily Report</h2>
                        <p class="text-gray-400">Upload your daily performance data</p>
                    </div>

                    <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                        <form id="dailyReportForm" class="space-y-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium mb-2">Date</label>
                                    <input type="date" id="reportDate" required
                                           class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium mb-2">Shift</label>
                                    <select id="reportShift" required
                                            class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                        <option value="">Select shift...</option>
                                        <option value="morning">Morning</option>
                                        <option value="afternoon">Afternoon</option>
                                        <option value="evening">Evening</option>
                                        <option value="night">Night</option>
                                    </select>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium mb-2">Fans Chatted With</label>
                                    <input type="number" id="fansChatted" min="0"
                                           class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium mb-2">Avg Response Time (minutes)</label>
                                    <input type="number" id="avgResponseTime" min="0" step="0.1"
                                           class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                </div>
                            </div>

                            <!-- PPV Sales Section -->
                            <div class="border-t border-gray-600 pt-6">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="text-lg font-semibold">PPV Sales</h3>
                                    <button type="button" id="addPPVSale" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm transition">
                                        <i class="fas fa-plus mr-1"></i>Add Sale
                                    </button>
                                </div>
                                <div id="ppvSalesContainer" class="space-y-3">
                                    <!-- PPV sales will be added dynamically -->
                                </div>
                            </div>

                            <!-- Tips Section -->
                            <div class="border-t border-gray-600 pt-6">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="text-lg font-semibold">Tips</h3>
                                    <button type="button" id="addTip" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition">
                                        <i class="fas fa-plus mr-1"></i>Add Tip
                                    </button>
                                </div>
                                <div id="tipsContainer" class="space-y-3">
                                    <!-- Tips will be added dynamically -->
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium mb-2">Notes (optional)</label>
                                <textarea id="reportNotes" rows="3"
                                          class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                          placeholder="Any additional notes about your shift..."></textarea>
                            </div>

                            <div class="flex justify-end">
                                <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition">
                                    <i class="fas fa-save mr-2"></i>Save Report
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center hidden z-50">
        <div class="glassmorphism rounded-xl p-6 text-center">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"></div>
            <p class="text-white">Processing...</p>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="fixed top-4 right-4 max-w-sm w-full hidden z-50">
        <div class="glassmorphism rounded-xl border p-4">
            <div class="flex">
                <div class="flex-shrink-0">
                    <i id="notificationIcon" class="text-xl"></i>
                </div>
                <div class="ml-3">
                    <p id="notificationMessage" class="text-sm font-medium text-white"></p>
                </div>
                <div class="ml-auto pl-3">
                    <button onclick="hideNotification()" class="text-white/60 hover:text-white">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="app-new.js"></script>
</body>
</html>